# KIRo風開発フローガイド

## 概要
このプロジェクトでは「仕様駆動開発（Specification-Driven Development）」を採用し、段階的なドキュメント作成と確認を経て開発を進めます。

## 開発フロー

### 1. 要件分析フェーズ
**目的**: プロジェクトの要件を明確にし、ステークホルダーと合意を形成する

**手順**:
1. `.tmp/requirements.md`テンプレートを使用
2. 機能要件・非機能要件を詳細に記述
3. ユーザーストーリーとアクセプタンス基準を定義
4. 優先順位付けとタイムライン作成
5. **ユーザー確認**: 要件定義書のレビューと承認

**成果物**: `requirements.md`（承認済み）

### 2. 技術設計フェーズ
**目的**: 要件を満たすための技術的なアプローチを設計する

**手順**:
1. `.tmp/design.md`テンプレートを使用
2. アーキテクチャ設計とコンポーネント分割
3. 技術スタックの選定と理由
4. データベース設計とAPI設計
5. セキュリティとパフォーマンス考慮事項
6. **ユーザー確認**: 技術設計書のレビューと承認

**成果物**: `design.md`（承認済み）

### 3. タスク分解フェーズ
**目的**: 設計を実装可能な単位に分解し、開発計画を立てる

**手順**:
1. `.tmp/tasks.md`テンプレートを使用
2. 機能をフェーズ別に分割
3. 各タスクの詳細定義（工数・依存関係・受け入れ基準）
4. リスク評価と対策計画
5. **ユーザー確認**: タスクリストの承認

**成果物**: `tasks.md`（承認済み）

### 4. 実装フェーズ
**目的**: 承認されたタスクに基づいて実装を進める

**手順**:
1. タスクを順次実行（TodoWriteツールで進捗管理）
2. 各タスク完了時に受け入れ基準をチェック
3. 継続的なテストとコードレビュー
4. フェーズごとのデモと確認
5. **必要に応じてユーザー確認**: 重要な実装判断時

**成果物**: 動作するソフトウェア

## 品質保証

### テスト駆動開発（TDD）
- **Red-Green-Refactor**サイクルの徹底
- テストファーストでの実装
- 高いテストカバレッジの維持

### コード品質
- TypeScriptでの厳密な型付け
- ESLint/Prettierでのコードフォーマット
- コードレビューの実施

### ドキュメント品質
- 英語での思考とドキュメント作成
- 明確性と完全性の重視
- 継続的なドキュメント更新

## コミュニケーション

### 段階的確認の重要性
各フェーズでユーザー確認を必須とし、以下を確実にする：
- 要件の理解が正しいか
- 設計が期待に沿うか
- タスク分解が適切か
- 実装が仕様通りか

### フィードバックループ
- 早期のプロトタイプ作成
- 定期的なデモと確認
- 継続的な改善

## ツールと環境

### 必須ツール
- **Claude Code**: AIアシスタントとしての開発支援
- **Git**: バージョン管理
- **TodoWriteツール**: タスク進捗管理

### ドキュメント管理
- `.tmp/`ディレクトリでの作業文書管理
- Markdownでの統一フォーマット
- バージョン管理とレビュー履歴

## トラブルシューティング

### よくある問題と対策
1. **要件の曖昧さ**: 詳細なユーザーストーリーで明確化
2. **技術的な判断迷い**: 複数案の比較検討と理由明記
3. **スケジュール遅延**: タスクの細分化と優先順位見直し

### エスカレーション基準
- 要件変更が発生した場合
- 技術的制約で設計変更が必要な場合
- 重要な判断が必要な場合

## 成功の指標

### プロセスKPI
- 各フェーズでの承認取得率
- 要件変更の頻度と影響度
- タスク完了率と計画精度

### 品質KPI
- テストカバレッジ率
- バグ発見・修正時間
- コードレビュー指摘事項数

## 継続的改善

### 振り返り（Retrospective）
- フェーズ完了時の振り返り
- プロセス改善提案
- 知見の共有と蓄積

### 知識管理
- 設計判断の理由記録
- 技術的な学びのドキュメント化
- 再利用可能なコンポーネントの整理